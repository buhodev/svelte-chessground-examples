import{S as g,i as $,s as b,k as y,y as w,l as C,m as k,z as M,h as d,p,b as P,A,g as D,d as I,B as S,o as q,w as x}from"../chunks/index.4bc3a562.js";import{C as z}from"../chunks/Chessground.92de491a.js";import{C as B}from"../chunks/chess.ea872f19.js";import{t as h}from"../chunks/util.f07d8c1e.js";import{t as E}from"../chunks/stores.0724fa6d.js";function R(i){let e,o,s,n={config:i[1]};return o=new z({props:n}),i[2](o),{c(){e=y("div"),w(o.$$.fragment),this.h()},l(t){e=C(t,"DIV",{style:!0});var r=k(e);M(o.$$.fragment,r),r.forEach(d),this.h()},h(){p(e,"width","100%"),p(e,"aspect-ratio","1")},m(t,r){P(t,e,r),A(o,e,null),s=!0},p(t,[r]){const l={};o.$set(l)},i(t){s||(D(o.$$.fragment,t),s=!0)},o(t){I(o.$$.fragment,t),s=!1},d(t){t&&d(e),i[2](null),S(o)}}}function T(i,e,o){E.set("Play vs. random AI");const s=new B;let n,t={movable:{color:"white",free:!1,dests:h(s)}};q(async()=>{n.set({movable:{events:{after:r(n,s)}}})});function r(a,m){return(_,v)=>{setTimeout(()=>{m.move({from:_,to:v});const f=m.moves({verbose:!0}),c=f[Math.floor(Math.random()*f.length)];m.move(c.san),a.move(c.from,c.to);const u=m.turn()=="w"?"white":"black";a.set({turnColor:u,movable:{color:u,dests:h(m)}}),a.playPremove()},750)}}function l(a){x[a?"unshift":"push"](()=>{n=a,o(0,n)})}return[n,t,l]}class J extends g{constructor(e){super(),$(this,e,T,R,b,{})}}export{J as default};
