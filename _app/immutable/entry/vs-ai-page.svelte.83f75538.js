import{S as v,i as $,s as b,k as y,y as w,l as C,m as k,z as M,h as d,p as h,b as x,A as P,g as A,d as D,B as I,o as S,w as q}from"../chunks/index.4bc3a562.js";import{C as z}from"../chunks/Chessground.92de491a.js";import{C as B}from"../chunks/chess.ea872f19.js";import{t as p}from"../chunks/util.f07d8c1e.js";import{t as E}from"../chunks/stores.0724fa6d.js";function R(i){let e,o,n,s={config:i[1]};return o=new z({props:s}),i[2](o),{c(){e=y("div"),w(o.$$.fragment),this.h()},l(t){e=C(t,"DIV",{style:!0});var r=k(e);M(o.$$.fragment,r),r.forEach(d),this.h()},h(){h(e,"width","512px"),h(e,"height","512px")},m(t,r){x(t,e,r),P(o,e,null),n=!0},p(t,[r]){const l={};o.$set(l)},i(t){n||(A(o.$$.fragment,t),n=!0)},o(t){D(o.$$.fragment,t),n=!1},d(t){t&&d(e),i[2](null),I(o)}}}function T(i,e,o){E.set("Play vs. random AI");const n=new B;let s,t={movable:{color:"white",free:!1,dests:p(n)}};S(async()=>{s.set({movable:{events:{after:r(s,n)}}})});function r(a,m){return(_,g)=>{setTimeout(()=>{m.move({from:_,to:g});const f=m.moves({verbose:!0}),c=f[Math.floor(Math.random()*f.length)];m.move(c.san),a.move(c.from,c.to);const u=m.turn()=="w"?"white":"black";a.set({turnColor:u,movable:{color:u,dests:p(m)}}),a.playPremove()},750)}}function l(a){q[a?"unshift":"push"](()=>{s=a,o(0,s)})}return[s,t,l]}class J extends v{constructor(e){super(),$(this,e,T,R,b,{})}}export{J as default};
